<!doctype html>
<html lang="en">
  <head>
    <title>haskell</title>
    <link rel="stylesheet" href="../css/index-bundle.css" />
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="blog,programming,Haskell,Emacs,fish,bash">
<meta property="og:title" content="Boris Buliga">
<meta property="og:locale" content="es_US">
<meta property="og:url" content="https://d12frosted.io">

<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script>
  MathJax = {
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async src="../library/mathjax/es5/tex-svg.js">
</script>
<script src="../library/chart.js/dist/Chart.min.js"></script>
<script data-goatcounter="https://d12frosted.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <meta name="description" content="haskell" />
    <meta name="twitter:description" content="haskell">
    <meta property="og:description" content="haskell">
  </head>
  <body>
    <nav>
  <ul>
    <li><a class="fa fa-home" href="../" title="Home">&nbsp Home</a></li>
    <li><a class="fa fa-suitcase" href="../projects.html" title="Projects">&nbsp Projects</a></li>
    <li><a class="fa fa-rss" href="../atom.xml" title="RSS">&nbsp RSS</a></li>
    <li><a class="fa fa-github" href="https://github.com/d12frosted" title="GitHub profile">&nbsp GitHub</a></li>
  </ul>
</nav>

    <h1>Boris Buliga</h1>
    <div class="info">
      <p>I grow under the sun. When I am not writing code, I am either drinking wine or drinking tea (with these little cups). Cheese is my bread and tracking everything in Emacs is my cheese.</p>
<p>P.S. d12frosted means dice with 12 sides from the Chessex™ frosted series. I used to play. Just a little bit.</p>
    </div>
    <h1>(tagged 'haskell)</h1>
    <section>
  
    <div class="recent-post">
      <h3><a href="../posts/2020-02-01-readings-vol-1.html">Readings Vol. I: precondition encoding</a></h3>
      <div class="date"><span>February  1, 2020</span></div>
      <div class="tags"><span>(<a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>, <a title="All pages tagged 'readings'." href="../tags/readings.html">readings</a>)</span></div>
      <p>When we write libraries for others (including ourselves) to use we often require some preconditions to be met. Sometimes we just make them implicit (in the form of folklore, passed from developer to developer during post mortem ritual). In other cases we encode the possibility of failure due to unsatisfied preconditions.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ot">safeHead ::</span> [a] <span class="ot">-&gt;</span> <span class="dt">Maybe</span> a</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>safeHead [] <span class="ot">=</span> <span class="dt">None</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>safehead (a<span class="op">:</span>_) <span class="ot">=</span> <span class="dt">Just</span> a</span></code></pre></div>
<p>Is this is the only thing we can do? Definitely no! Is it the best thing we can do? Depends on the situation.</p>
<p>This article is part of the <a href="../tags/readings.html">readings</a> series where I take one topic and share links to related articles and papers. This time our focus is precondition encoding.</p>

      <p class="read-more"><a href="../posts/2020-02-01-readings-vol-1.html">Read more →</a></p>
    </div>
  
    <div class="recent-post">
      <h3><a href="../posts/2020-01-20-predicate-composition.html">Predicate composition</a></h3>
      <div class="date"><span>January 20, 2020</span></div>
      <div class="tags"><span>(<a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>, <a title="All pages tagged 'semigroup'." href="../tags/semigroup.html">semigroup</a>, <a title="All pages tagged 'performance'." href="../tags/performance.html">performance</a>)</span></div>
      <p>They say functional programming has many essences and the composition is one of them. Thanks to the wonderful dot operator, we know how to compose functions like <code class="verbatim">a -&gt; b</code> and <code class="verbatim">b -&gt; c</code> to get a function <code class="verbatim">a -&gt; c</code>. But in some cases functions are not that simple and it becomes tricky to compose them nicely.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ot">valid ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>valid <span class="ot">=</span> \a <span class="ot">-&gt;</span> check1 a <span class="op">&amp;&amp;</span> (check2 a <span class="op">||</span> check3 a)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span> check1 <span class="ot">= undefined ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        check2 <span class="ot">= undefined ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        check3 <span class="ot">= undefined ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span></code></pre></div>
<p>It would be lovely to express it in a more declarative way by abstracting away function application and result combination.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ot">valid ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>valid <span class="ot">=</span> check1 <span class="op">.&amp;&amp;</span> (check2 <span class="op">.||</span> check3)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ot">(.&amp;&amp;) ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ot">(.||) ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></span></code></pre></div>
<p>Apart from implementing combinators for predicate composition, we want to avoid any runtime penalty from using abstractions. In this article we are going to implement the following functions and investigate how far we can go with abstractions until performance degrades. Or maybe it won’t degrade. Who knows?</p>

      <p class="read-more"><a href="../posts/2020-01-20-predicate-composition.html">Read more →</a></p>
    </div>
  
    <div class="recent-post">
      <h3><a href="../posts/2020-01-06-env-extra-v1.0.0.0.html">env-extra v1.0.0.0</a></h3>
      <div class="date"><span>January  6, 2020</span></div>
      <div class="tags"><span>(<a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>, <a title="All pages tagged 'release'." href="../tags/release.html">release</a>, <a title="All pages tagged 'env-extra'." href="../tags/env-extra.html">env-extra</a>)</span></div>
      <p>It’s hard (though possible) to imagine a script that doesn’t access environment variables. In Haskell ecosystem there is a good built-in module <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-Environment.html">System.Environment</a> that does the job, but it has several drawbacks. First of all, it uses <code class="verbatim">String</code> data type as input and as an output. And secondly, it lives in <code class="verbatim">IO</code>. Both of these drawbacks are not that critical, but calling all these <code class="verbatim">Text.pack</code>, <code class="verbatim">Text.unpack</code> and <code class="verbatim">liftIO</code> in every program drives me nuts. So several years ago (somewhere in 2016) I decided to write a <a href="https://github.com/d12frosted/env-extra">simple library</a> that wraps it for me.</p>
<p>I’ve been using this library for a long time and today I uploaded it to <a href="https://hackage.haskell.org/package/env-extra">Hackage</a>. While it’s really small, I still think that some of you might find it useful, because it has nice features that original <code class="verbatim">System.Environment</code> doesn’t have. Let’s take a look!</p>

      <p class="read-more"><a href="../posts/2020-01-06-env-extra-v1.0.0.0.html">Read more →</a></p>
    </div>
  
    <div class="recent-post">
      <h3><a href="../posts/2015-04-05-cabal-and-executables.html">Cabal and executables</a></h3>
      <div class="date"><span>April  5, 2015</span></div>
      <div class="tags"><span>(<a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>)</span></div>
      <p>Maybe I did something really wrong in my life, because I constantly run into <strong>Cabal Hell</strong>. That feeling of powerlessness is refreshing, though depressing. And I hate it the most when I just need to install an executable from Hackage, like <code>pandoc</code>.</p>
<p>But hey, we are software engineers after all. So I decided to write a little helper script to avoid world destruction and get desired executable in my <code class="verbatim">$PATH</code>.</p>
<p><strong>Important note.</strong> In the last few years Haskell community did a great job in order to fight the <strong>Cabal Hell</strong>. And thanks to <a href="https://haskell.fpcomplete.com/get-started">Stack</a> and <a href="https://cabal.readthedocs.io/en/latest/nix-local-build-overview.html">Nix-style Local Builds</a> my solution is no longer required. I keep it just for historical reference (and to keep my blog relatively busy).</p>

      <p class="read-more"><a href="../posts/2015-04-05-cabal-and-executables.html">Read more →</a></p>
    </div>
  
    <div class="recent-post">
      <h3><a href="../posts/2015-02-04-canonical-path-v0.3.0.0.html">CanonicalPath v0.3.0.0</a></h3>
      <div class="date"><span>February  4, 2015</span></div>
      <div class="tags"><span>(<a title="All pages tagged 'haskell'." href="../tags/haskell.html">haskell</a>, <a title="All pages tagged 'release'." href="../tags/release.html">release</a>, <a title="All pages tagged 'CanonicalPath'." href="../tags/CanonicalPath.html">CanonicalPath</a>)</span></div>
      <p>Recently there was the third major release of <code>CanonicalPath</code> library introducing some good stuff, but unfortunately breaking API (just a tiny little bit).</p>
<p>New version is available on <a href="https://github.com/d12frosted/CanonicalPath">Github</a>, <a href="https://hackage.haskell.org/package/system-canonicalpath">Hackage</a> and <a href="https://www.stackage.org/package/system-canonicalpath">Stackage</a>.</p>

      <p class="read-more"><a href="../posts/2015-02-04-canonical-path-v0.3.0.0.html">Read more →</a></p>
    </div>
  
</section>

  </body>
</html>
